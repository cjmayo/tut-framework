<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>TUT: C++ Template Unit Test Framework</title>
    <link rel="shortcut icon" href="tut.ico" />
    <meta charset='utf-8'>
    <meta name="keywords" content="C++ Unit Test Simple" />
    <meta name="description" content="TUT: C++ Template Unit Test Framework" />
    <meta name="generator" content="webgen - http://webgen.rubyforge.com/" />
    <link href="default.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <a href="https://github.com/mrzechonek/tut-framework"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
    <div id="header">
      <h1>
        <a href="http://mrzechonek.github.io/tut-framework"><img src="tut.png" alt="tut logo"/></a>
        C++ Template Unit Test Framework
      </h1>
    </div>

    <div id="menu">
        <ul><li class="webgen-menu-level1"><a href="index.html" hreflang="en">Introduction</a></li><li class="webgen-menu-level1 webgen-menu-item-selected"><a href="news.html" hreflang="en">News</a></li><li class="webgen-menu-level1"><a href="download.html" hreflang="en">Download</a></li><li class="webgen-menu-level1"><a href="example.html" hreflang="en">Example</a></li><li class="webgen-menu-level1"><a href="howto.html" hreflang="en">How To</a></li><li class="webgen-menu-level1"><a href="faq.html" hreflang="en">FAQ</a></li><li class="webgen-menu-level1"><a href="authors.html" hreflang="en">Authors</a></li><li class="webgen-menu-level1"><a href="links.html" hreflang="en">Links</a></li><li class="webgen-menu-level1"><a href="copyright.html" hreflang="en">Copyright</a></li><li class="webgen-menu-level1"><a href="https://github.com/mrzechonek/tut-framework/issues">Issues</a></li><li class="webgen-menu-level1"><a href="doxygen/index.html">Reference Manual</a></li></ul>
    </div>

    <div id="body">
        <h1><span>changelog, releases and whatnot</span>News </h1>
        
<h2 id="move-to-github">Move to Github</h2>

<p>Long time no see!</p>

<p>I’ve decided to move the project to Github, to decrease amount of typing needed
to get a long-overdue release out.</p>

<h2 id="doxygen-documentation">Doxygen documentation</h2>

<p>Thanks to Achill Hasler, we now have a complete, Doxygen-based, reference manual.</p>

<h2 id="switch-to-waf">Switch to Waf</h2>

<p>The build/installation system has been changed from hand-maintained makefiles to a modern
alternative, <a href="http://code.google.com/p/waf/">Waf</a>. This means that official process
of building/installing TUT requires Python. For now Waf scripts used in TUT handle GCC,
MinGW and various versions of MSVC. Support for Intel/Sun/Borland compilers is not there yet.</p>

<p>TUT is now also somewhat customizable during build/installation, using <code>./waf configure</code>
shell command. You can even check the self-test coverage if you have
<a href="http://sourceforge.net/projects/bcov/">bcov</a> installed on your machine.</p>

<p>However, you can still ‘just copy the files’ using the default <code>tut_config.hpp</code>.
Bear in mind that by doing that you miss much goodies, e.g. generated <code>pkg-config</code> file.</p>

<h2 id="tut-2009-08-30">TUT-2009-08-30</h2>
<p>This is a bugfix release.</p>

<h2 id="tut-2008-11-30">TUT-2008-11-30</h2>
<p>Introduces a whole new feature of multi-process testing. This includes forking, reporting
failed tests in children, controlling their exit status and cleanup code:</p>

<div class="CodeRay">
  <div class="code"><pre>
pid_t childPid = fork();
<span style="color:#080;font-weight:bold">if</span>(childPid == <span style="color:#00D">0</span>)
{
        ensure(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Child failed</span><span style="color:#710">&quot;</span></span>, <span style="color:#069">false</span>);
}

<span style="color:#777">// this is going to fail</span>
ensure_child_exit(childPid, <span style="color:#00D">0</span>);
</pre></div>
</div>

<p>Added ensure_errno test for meaningful reporting of failed system calls.</p>

<p>Both features are available only on *nix platforms.</p>

<h2 id="tut-2007-07-06">TUT-2007-07-06</h2>
<p>Introduced new header include style. There are two ways you can include the TUT headers:</p>

<div class="CodeRay">
  <div class="code"><pre>
<span style="color:#579">#include</span> <span style="color:#B44;font-weight:bold">&lt;tut.h&gt;</span>
<span style="color:#579">#include</span> <span style="color:#B44;font-weight:bold">&lt;tut/tut.hpp&gt;</span>
</pre></div>
</div>

<p>The second option is preferred method whereas the first option is to provide backward 
compatibility with clients of the previous releases.</p>

<p>Minor fixes for Borland C++ Builder 6 and Microsoft Visual Studio 2005.</p>

<h2 id="tut-2007-03-19">TUT-2007-03-19</h2>
<p>Introduced a new exception <code>tut_error</code> as base for all TUT exceptions.
I have two reasons to do it:</p>

<ul>
  <li>To avoid interference with <code>std::logic_error</code> leading to annoying pitfalls
in inaccurate test code. For example:</li>
</ul>

<div class="CodeRay">
  <div class="code"><pre>
<span style="color:#777">// function to test</span>
<span style="color:#088;font-weight:bold">void</span> foo(<span style="color:#0a8;font-weight:bold">bool</span> cond)
{
    <span style="color:#080;font-weight:bold">if</span> (!cond) 
    {
        throw logic_error(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">condition is not set</span><span style="color:#710">&quot;</span></span>);
    }
}

<span style="color:#777">// inside a test</span>
try
{
    ensure(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">something</span><span style="color:#710">&quot;</span></span>, some_expression); <span style="color:#777">// can throw logic_error</span>
    foo(<span style="color:#069">false</span>);
}
catch (<span style="color:#088;font-weight:bold">const</span> logic_error&amp;)
{
    <span style="color:#777">// ok or pitfall?</span>
}
</pre></div>
</div>

<p>Howewer, because of that <code>tut_error</code> is derived from 
<code>std::exception</code>, you should avoid catching <code>std::exception</code>
in your test code without appropriate checks.
*   Some implementations of Standard C++ Library restrict size of a message passed into
    a standard exception (from <code>stdexcept</code>) within narrow limits 
    (usually, 256 bytes). Sometimes, it leads to incomplete messages in TUT reports. </p>

<p>Minor changes:
*   actual and expected values are quoted to increase failure messages readability;
*   if <code>ensure_distance</code> fails it will output a range in round brackets
    because range borders are excluded from range (thanks to Koolin Timofey).
*   New function added: <code>ensure_not</code>. I’ve found that <code>ensure_not(condition)</code> is a bit
    more readable than <code>ensure(!condition)</code></p>

<h2 id="tut-2007-02-03">TUT-2007-02-03</h2>
<p>Microsoft Visual C++ 2005 is supported. This version of compiler supports
standard C++ exception handling in accordance with the C++ standard. It means 
that only synchronous C++ exceptions thrown with a throw statement will be 
caught in a catch block. </p>

<p>TUT uses two models of exception: handling SEH and standard C++ exception 
handling. TUT expects that if any structured exception is raised it will be 
handled by nearer C++ catch handler. It was default behavior of the previous
version of compiler (option /EHs). But for the new version I have to turn on
asynchronous exception handling (option /EHa).</p>

<h2 id="tut-2006-11-04">TUT-2006-11-04</h2>
<p>Fix: lost changes from version <code>TUT-2006-03-29</code> are restored.</p>

<p>Fix: errors appeared while compiling restartable example are fixed. 
But there are a lot of outstanding works to support completely
the last changes.</p>

<p>Jamfiles for examples added.</p>

<h2 id="tut-2006-10-31">TUT-2006-10-31</h2>
<p>Today’s update is the work of a new TUT’s contributor, Denis Kononenko.</p>

<p>Jamfile added to build TUT Framework using <a href="http://boost.sourceforge.net/boost-build2/">Boost Build System v2</a></p>

<p>It builds TUT itself and automatically executes the selftest. 
Further enchancements are coming soon.</p>

<p>New functionality is added: now we can optionally specify the test name right from inside the test.</p>

<div class="CodeRay">
  <div class="code"><pre>
template&lt;&gt;
template&lt;&gt;
<span style="color:#088;font-weight:bold">void</span> my_object_tests::test&lt;<span style="color:#00D">1</span>&gt;() 
{ 
    set_test_name(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">test basic scenario</span><span style="color:#710">&quot;</span></span>); 
    ... 
}
</pre></div>
</div>

<p>If the test fails the test name will appear in the test report, e.g.:</p>

<pre><code>---&gt; group: my_object_tests, test: test&lt;1&gt; test basic scenario 
     problem: assertion failed 
     failed assertion: "not implemented"
</code></pre>

<p>Also a custom reporter can retrieve the test name using <code>tut::test_result::name</code> attribute.</p>

<p>Minor fix: TUT selftest didn’t exit with code 0 if there have been failed tests.</p>

<h2 id="tut-2006-03-29">TUT-2006-03-29</h2>
<p>New callback events: <code>group_started()</code> and <code>group_completed()</code>. 
Thanks to Mateusz Loskot and Bartlomiej Kalinowski for pointing out to the incompleteness of the interface.</p>

<h2 id="tut-2005-06-22">TUT-2005-06-22</h2>
<p><code>ensure()</code> now is a template and thus accepts both <code>const char*</code> and <code>std::string</code></p>

<p>Optimization level is reduced to -g for GCC 3.x in samples since otherwise I have a sigsegv.</p>

<h2 id="tut-2005-05-19">TUT-2005-05-19</h2>
<p>Fix: Win32 doesn’t allow to mix <code>try</code> / <code>catch</code> and <code>_try</code> / <code>_catch</code>. Mea culpa.</p>

<h2 id="tut-2005-05-16">TUT-2005-05-16</h2>
<p>Bugfix release (thanks to Denis Kononenko).</p>

<p>An exception in test group constructor was causing all tests in the group
to be marked as failed, even including dummy methods, i.e. those not written by the developer.
The result is usually a list of 50 “errors” only few of them are actual tests.</p>

<p>An exception in test group ctor terminates the whole group. No tests in this group are executed in this run.</p>

<p>First failed test has reason set to ex_ctor, and default reporter shows it as [1=C].</p>

<h2 id="tut-2004-03-26">TUT-2004-03-26</h2>
<p>Minor, really minor change: dropped extra <code>&amp;&amp;</code> from
end of declaration which prevented TUT from being used
with Sun C++ compiler (thanks to Andrey Sidorenko)</p>

<h2 id="tut-2003-08-17">TUT-2003-08-17</h2>
<p>Usablility changes (thanks to Justin Sampson):</p>

<ul>
  <li>
    <p>Class tut::reporter has new method <code>bool all_ok() const</code> to check if everything goes/gone fine.</p>
  </li>
  <li>
    <p>Template methods <code>ensure()</code>, <code>ensure_equals()</code>, <code>ensure_distance()</code> and <code>fail()</code> can
now be called not only inside test object methods, but from any code location.</p>
  </li>
</ul>

<h2 id="tut-2003-07-04">TUT-2003-07-04</h2>
<p>TUT now works under VC7 2003. VC7 2002 is not supported,
and will not be supported due to lack of standard features.</p>

<p>Tests are now should be specialized more standard-way, i.e.  with using two <code>template&lt;&gt;</code> statements:</p>

<div class="CodeRay">
  <div class="code"><pre>
template&lt;&gt;
template&lt;&gt;
<span style="color:#088;font-weight:bold">void</span> object::test&lt;<span style="color:#00D">1</span>&gt;()
{
}
</pre></div>
</div>

<p>All compilers except for VC allow to specify only one template
line, but it is not standard, and going to change soon.</p>

<p>Since VC forbids to use __try and try in same context, minor
changes are made in SEH code to replace throw with good old return.</p>

<p>Makefiles organization is refactored.</p>

<h2 id="tut-2003-06-25">TUT-2003-06-25</h2>
<p>Default results callback handler is moved into separate optional 
header <code>tut_reporter.h</code> and refactored to increase verbosity
level. There are also a few more self-tests to cover the reporter.  Usage: </p>

<div class="CodeRay">
  <div class="code"><pre>
<span style="color:#579">#include</span> <span style="color:#B44;font-weight:bold">&lt;tut.h&gt;</span>
<span style="color:#579">#include</span> <span style="color:#B44;font-weight:bold">&lt;tut_reporter.h&gt;</span>

namespace tut
{
    test_runner_singleton runner;
}

<span style="color:#0a8;font-weight:bold">int</span> main()
{
    tut::reporter reporter;
    tut::runner.get().set_callback(&amp;reporter);
    tut::runner.get().run_tests();          
    ...
}
</pre></div>
</div>

<p>Makefile structure for selftest is refactored finally to
reuse common dependencies Makefile.common. Shame on me not
done it early.</p>

<p>SCO platforms are no longer supported. 
SCO is no more a software company, it produces only sues.</p>

<h2 id="tut-2003-04-28">TUT-2003-04-28</h2>
<p>Tar.gz is now built using real TAR and GZIP applications, not 7ZIP.</p>

<p>Fixed missed STL includes required for some platforms.</p>

<p>Removed outdated dependencies in Makefiles.</p>

<p>Supressed useless and mistaken compiler warnings.</p>

    </div>

    <div id="footer">

        <h1>
            <span>last change: 2013-12-18 11:22:17 +0100</span>
            <a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml11" alt="Valid XHTML 1.1" height="31" width="88" /></a>
            generated by <a href="http://webgen.gettalong.org">webgen</a>
        </h1>
    </div>
  </body>
</html>

<!--
    vim:ft=xhtml
 -->
